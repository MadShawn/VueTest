language: "node_js"
node_js: 
  - "8.1.4"
before_install: 
  - npm update -g npm
install: 
  - npm install
script: 
  - npm run lint && npm run build
after_script:
  - cd dist
  - git init
  - git pull "https://${GITHUB_TOKEN}@${PAGES_REF}" master --allow-unrelated-histories
  - git add .
  - git commit -m "Update pages"
  - git push "https://${GITHUB_TOKEN}@${PAGES_REF}" master
cache:
  directories:
    - node_modules
